<!DOCTYPE html>
<html>
<head>
    <%- include("includes/header.ejs") %> 
    <title>User Login</title>
    <link rel="stylesheet" href="/login.css">
</head>
<body>
    <div class="container">
        <div class="form-container">
            <h2>Login</h2>
            <% if (registrationSuccess) { %>
                <div id="popup" class="popup show">
                    <p>Registration successful! Please log in.</p>
                    <button onclick="closePopup()">Close</button>
                </div>
            <% } %>
            <% if (loginError) { %>
                <div class="error-message">
                    <p style="color: red;"><%= loginError %></p>
                </div>
            <% } %>
            <form id="login-form" action="/login" method="POST">
                <div class="form-group">
                    <label for="login-username">Username</label>
                    <input type="text" id="login-username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" name="password" required>
                </div>
                <button type="submit">Login</button>
            </form>
            <div class="social-login">
                <button class="social-btn google" onclick="window.location.href=''">Login with Google</button>
                <button class="social-btn facebook" onclick="window.location.href=''">Login with Facebook</button>
            </div>
        </div>
    </div>

    <script>
        function closePopup() {
            document.getElementById('popup').classList.remove('show');
        }

        // window.onload = function() {
        //     <% if (registrationSuccess) { %>
        //         document.getElementById('popup').classList.add('show');
        //     <% } %>
        // };
    </script>
</body>
</html>
